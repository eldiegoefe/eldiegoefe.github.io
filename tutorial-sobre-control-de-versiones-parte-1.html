<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="El Diego Efe" />
        <meta name="copyright" content="El Diego Efe" />

        <meta name="description" content="En el sitio de Software Carpentry hay un buen tutorial sobre el uso de sistemas de control de versiones. Estos apuntes son prácticamente la traducción de esas instrucciones. Indice del Tutorial Parte 1. Cómo armar un repositorio local Parte 2. Cómo subir el repositorio local al remoto Parte 3. Cómo …
" />
<meta name="keywords" content="git, control de versiones, tutorial, tecnicismos, " />
        <title>Tutorial sobre control de versiones (parte&nbsp;1)  · Certezas Dudosas
</title>
        <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://eldiegoefe.github.io/theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://eldiegoefe.github.io/theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="http://eldiegoefe.github.io/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="http://eldiegoefe.github.io/theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://eldiegoefe.github.io/theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://eldiegoefe.github.io/theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://eldiegoefe.github.io/theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://eldiegoefe.github.io/theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="http://eldiegoefe.github.io/theme/images/apple-touch-icon-144x144.png" />
        <link href="http://eldiegoefe.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Certezas Dudosas - Full RSS Feed" />
        <link href="http://eldiegoefe.github.io/feeds/blog.rss.xml" type="application/atom+xml" rel="alternate" title="Certezas Dudosas - blog Category RSS Feed" />
        <link href="http://eldiegoefe.github.io/feeds/politica.rss.xml" type="application/atom+xml" rel="alternate" title="Certezas Dudosas - politica Category RSS Feed" />
        <link href="http://eldiegoefe.github.io/feeds/salud.rss.xml" type="application/atom+xml" rel="alternate" title="Certezas Dudosas - salud Category RSS Feed" />
        <link href="http://eldiegoefe.github.io/feeds/tecnicismos.rss.xml" type="application/atom+xml" rel="alternate" title="Certezas Dudosas - tecnicismos Category RSS Feed" />
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://eldiegoefe.github.io/"><span class=site-name>Certezas Dudosas</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://eldiegoefe.github.io">Home</a></li>
                            <li ><a href="http://eldiegoefe.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://eldiegoefe.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://eldiegoefe.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://eldiegoefe.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-1.html"> Tutorial sobre control de versiones (parte&nbsp;1)  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            <p>En el sitio de <a class="reference external" href="http://software-carpentry.org/">Software Carpentry</a> hay un buen tutorial sobre el uso
de sistemas de control de versiones. Estos apuntes son prácticamente
la traducción de esas&nbsp;instrucciones.</p>
<div class="section" id="indice-del-tutorial">
<h2>Indice del&nbsp;Tutorial</h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-1.html">Parte 1</a>. Cómo armar un repositorio&nbsp;local</li>
<li><a class="reference external" href="http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-2.html">Parte 2</a>. Cómo subir el repositorio local al&nbsp;remoto</li>
<li><a class="reference external" href="http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-3.html">Parte 3</a>. Cómo colaborar en un mismo repositorio&nbsp;remoto</li>
<li><a class="reference external" href="http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-4.html">Parte 4</a>. Cómo resolver&nbsp;conflictos</li>
</ul>
</blockquote>
<p>Para ver las versiones (en inglés) en las cuales se basa este
tutorial, podés visitar <a class="reference external" href="http://software-carpentry.org/v5/novice/git/">la página de Software&nbsp;Carpentry</a></p>
</div>
<div class="section" id="configuracion">
<h2>Configuración</h2>
<p>La primera vez que se usa Git en una máquina hay que configurar al
menos el nombre del usuario y su email. También puede elegirse el
editor por defecto. Son comandos que se ejecutan una sola vez. Por&nbsp;ejemplo:</p>
<div class="highlight"><pre><span></span><span class="p">$</span> <span class="n">git</span> <span class="n">config</span> <span class="p">-</span><span class="n">-global</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="s2">&quot;Vlad Dracula&quot;</span>
<span class="p">$</span> <span class="n">git</span> <span class="n">config</span> <span class="p">-</span><span class="n">-global</span> <span class="n">user</span><span class="p">.</span><span class="n">email</span> <span class="s2">&quot;vlad@tran.sylvan.ia&quot;</span>
<span class="p">$</span> <span class="n">git</span> <span class="n">config</span> <span class="p">-</span><span class="n">-global</span> <span class="n">color</span><span class="p">.</span><span class="n">ui</span> <span class="s2">&quot;auto&quot;</span>
<span class="p">$</span> <span class="n">git</span> <span class="n">config</span> <span class="p">-</span><span class="n">-global</span> <span class="n">core</span><span class="p">.</span><span class="n">editor</span> <span class="s2">&quot;emacs&quot;</span>
</pre></div>
<p>La tercer opcion es para que los mensajes con los cuales responde Git
en el terminal estén coloreados. La cláusula &#8220;&#8212;global&#8221; indica que
esta configuración no se limita a un proyecto particular, sino que
será utilizado en todos los proyectos (repositorios) de esa&nbsp;computadora.</p>
<p>Para verificar el nombre de usuario se usa <em>git config
user.name</em>.</p>
</div>
<div class="section" id="inicializacion">
<h2>Inicialización</h2>
<p>Se puede comenzar a trabajar con un proyecto usando el siguiente
comando desde el subdirectorio en el cual se alojarán los archivos del&nbsp;proyecto:</p>
<div class="highlight"><pre><span></span><span class="p">$</span> <span class="n">git</span> <span class="n">init</span>
</pre></div>
<p>De esta manera se crea un subdirectorio oculto (.git) donde se irá
alojando todo el historial de archivos, en todas sus versiones, a
medida que se vayan&nbsp;produciendo.</p>
</div>
<div class="section" id="agregar-un-archivo-al-proyecto">
<h2>Agregar un archivo al&nbsp;proyecto</h2>
<p>Creamos un archivo de texto con cualquier editor (no necesariamente el
elegido en la configuración) y lo almacenamos en el directorio del
proyecto. Por ejemplo una canción de La Vela Puerca, en el archivo&nbsp;va-a-escampar.txt:</p>
<pre class="literal-block">
Va a escampar

Hoy asume lo que venga
sea para bien, o todo mal.
y aunque pierda lo que tenga
se va a morder para aguantar
</pre>
<p>Si hacemos <em>&#8220;git status&#8221;</em> el sistema nos responde que reconoce la
existencia de un nuevo archivo en el proyecto, que todavía el sistema
de control de versiones no&nbsp;incorporó.</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Untracked files:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    va-a-escampar.txt
<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
<p>Para agregar el archivo al proyecto se&nbsp;ejecuta:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git add va-a-escampar.txt
</pre></div>
<p>Y se puede pedir el nuevo informe de situación&nbsp;con:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span>
<span class="gp">#</span> Initial commit
<span class="gp">#</span>
<span class="gp">#</span> Changes to be committed:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    new file:   va-a-escampar.txt
<span class="gp">#</span>
</pre></div>
</div>
<div class="section" id="comitear-es-un-verbo-muy-extrano">
<h2>Comitear es un verbo muy&nbsp;extraño</h2>
<p>Ahora Git ya sabe que debe ir registrando la evolución del archivo
va-a-escampar.txt, pero todavía no ha grabado ninguna información
sobre este archivo en su base de datos (y si ya hubiese información de
antes, aún no habría guardado los cambios realizados desde el último
commit). En inglés, grabar el estado actual de uno o más archivos es
hacer un &#8220;commit&#8221;. En castellano commit puede traducirse como cometer,
hacer, encomendar, perpetrar&#8230; Ninguna de las cuales sirve para
describir lo que sucede, así que hablaremos de&nbsp;&#8220;comitear&#8221;.</p>
<p>Para comitear el estado actual del archivo se ejecuta la orden <em>git
commit -m &#8220;mensaje personal&#8221;</em>:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git commit -m <span class="s2">&quot;Empezando a transcribir la letra de La Vela&quot;</span>
<span class="go">[master (root-commit) 38b86f5] Empezando a transcribir la letra de La Vela</span>
<span class="go">1 file changed, 6 insertions(+)</span>
<span class="go">create mode 100644 va-a-escampar.txt</span>
</pre></div>
<p>Git guarda entonces un copia permanente de todos los archivos que
están en la base de datos (los que fueron agregados con &#8220;git add&#8221;)
dentro del directorio oculto .git. Esta copia permanente es llamada
una <em>revisión</em>, y su identificador en el ejemplo fue&nbsp;38b86f5.</p>
<p>De omitir el mensaje en el comando <em>git commit</em> (si no
hubiese aparecido -m &#8220;mensaje&#8221;), se hubiese abierto el editor
configurado al principio, para poder escribir el&nbsp;mensaje.</p>
<p>Volvemos a ver la situación actual del proyecto con &#8220;git status&#8221; y con
&#8220;git log&#8221; podemos ver el historial de cambios (en orden cronológico
inverso), el cual incluye el identificador completo de la revisión, el
autor, la fecha y el mensaje de Git al responder al&nbsp;commit:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="go">nothing to commit, working directory clean</span>

<span class="gp">$</span> git log
<span class="go">commit 38b86f5625453732e442c127f1d4678ec8550a12</span>
<span class="go">Author: eldiegoefe &lt;eldiegoefe@gmail.com&gt;</span>
<span class="go">Date:   Mon Oct 6 15:35:07 2014 -0300</span>

<span class="go">   Empezando a transcribir la letra de La Vela</span>
</pre></div>
</div>
<div class="section" id="cambios-o-agregados-en-un-archivo">
<h2>Cambios (o agregados) en un&nbsp;archivo</h2>
<blockquote>
<p><strong>¿Dónde se guardan los&nbsp;cambios?</strong></p>
<p>En el directorio del proyecto sigue habiendo un solo archivo. Toda
la información extra se almacena en el subdirectorio oculto
<em>.git</em>, de modo que el sistema de archivos se ve limpio y se evita
la posibilidad de borrar accidentalmente cosas (como versiones
viejas del mismo&nbsp;archivo).</p>
</blockquote>
<p>Si agregamos una segunda estrofa al archivo de texto, pasa a verse&nbsp;así:</p>
<pre class="literal-block">
Va a escampar

Hoy asume lo que venga
sea para bien, o todo mal.
y aunque pierda lo que tenga
se va a morder para aguantar

Hoy que claro ve las cosas
que ayer no vio, ni va a exigir
Sobre su pena se posa
quiere entender para seguir
</pre>
<p>Al pedir el status del proyecto&nbsp;veremos:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Changes not staged <span class="k">for</span> commit:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    modified:   va-a-escampar.txt
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
<p>La última linea es la frase clave: &#8220;no se agregaron cambios al
commit&#8221;. El archivo ha cambiado pero no le hemos dicho aún a Git que
queremos guardar esos cambios (lo haremos con <em>git add</em>).</p>
</div>
<div class="section" id="comparacion-de-versiones">
<h2>Comparación de&nbsp;versiones</h2>
<p>Antes de agregar estos cambios podemos revisar nuestro trabajo usando
<em>git diff</em>, que nos muestra las diferencias entre el estado actual del
archivo y la última versión&nbsp;comiteada.</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff
<span class="go">diff --git a/va-a-escampar.txt b/va-a-escampar.txt</span>
<span class="go">index 97ab7b0..db818ec 100644</span>
<span class="go">--- a/va-a-escampar.txt</span>
<span class="go">+++ b/va-a-escampar.txt</span>
<span class="go">@@ -4,3 +4,8 @@ Hoy asume lo que venga</span>
<span class="go"> sea para bien, o todo mal.</span>
<span class="go"> y aunque pierda lo que tenga</span>
<span class="go"> se va a morder para aguantar</span>
<span class="go">+</span>
<span class="go">+Hoy que claro ve las cosas</span>
<span class="go">+que ayer no vio, ni va a exigir</span>
<span class="go">+Sobre su pena se posa</span>
<span class="go">+quiere entender para seguir</span>
</pre></div>
<p>La salida es críptica porque es en realidad una serie de comandos para
que un editor de textos pueda reconstruir un archivo a partir del&nbsp;otro.</p>
<ol class="arabic simple">
<li>La primera linea muestra que Git produce una salida similar al
comando Unix <em>diff</em> comparando la versión antigua y nueva del&nbsp;archivo.</li>
<li>La segunda linea muestra la revisión exacta de cada archivo que
está siendo comparado (97ab7b0 y db818ec, etiquetas únicas
generadas por la computadora para esas&nbsp;revisiones).</li>
<li>La linea restante muestra finalmente las lineas en las que aparecen
las diferencias (marcando con &#8220;+&#8221; las lineas que se&nbsp;agregaron).</li>
</ol>
</div>
<div class="section" id="como-comitear-los-cambios">
<h2>Cómo comitear los&nbsp;cambios</h2>
<p>Si hacemos un commit de los&nbsp;cambios:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git commit -m <span class="s2">&quot;Agregada la segunda estrofa&quot;</span>
<span class="gp">#</span> On branch master
<span class="gp">#</span> Changes not staged <span class="k">for</span> commit:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    modified:   va-a-escampar.txt
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
<p><strong>Ups. No se comitearon los cambios porque faltó agregarlos
antes</strong>. Entonces,&nbsp;haremos:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git add va-a-escampar.txt
<span class="gp">$</span> git commit -m <span class="s2">&quot;Agregada la segunda estrofa&quot;</span>
<span class="go">[master 6ae57e3] Agregada la segunda estrofa</span>
<span class="go">1 file changed, 5 insertions(+)</span>
</pre></div>
<p>Git insiste en que agreguemos los archivos al conjunto de los que
querramos comitear antes de realmente hacerlo, porque quizás no
querramos comitear todo junto. Por ejemplo, supongamos que estamos
agregando algunas citas a un documento. Podríamos querer agregarlas
sin comitear el trabajo que estamos haciendo en las conclusiones (que
todavía no terminamos). <em><span class="caps">NOTA</span> <span class="caps">PERSONAL</span>: ¡no entiendo! ¿De qué me sirve
agregar los cambios si no los&nbsp;&#8220;comiteo&#8221;?</em></p>
<p><span class="caps">RESPUESTA</span>: Para permitirlo, Git tiene una zona de almacenamiento
especial donde hace un seguimiento de cosas que fueron agregadas al
último conjunto de cambios, pero que aún no fueron comiteadas. Con
<em>git add</em> se colocan las novedades en este area, y luego <em>git commit</em>
las copia al espacio de almacenamiento de largo&nbsp;plazo.</p>
<object class="align-center" data="http://software-carpentry.org/v5/novice/git/img/git-staging-area.svg" style="width: 100.0%;" type="image/svg+xml">
git staging and commit areas</object>
<p>Veamos cómo nuestros cambios a un archivo se mueven desde nuestro
editor hacia la <em>staging area</em> (zona de preparación o también area de
ensayo) y hacia el almacenamiento de largo plazo. Primero, agregamos
otra&nbsp;estrofa:</p>
<pre class="literal-block">
Llega la batalla
y contra él estalla
algún día va a escampar.
y como sale de esta
quiere la respuesta
sabe que no es escapar.
</pre>
<p>Y analizamos las diferencias con <em>git diff</em>:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff
<span class="go">diff --git a/va-a-escampar.txt b/va-a-escampar.txt</span>
<span class="go">index db818ec..0c33091 100644</span>
<span class="go">--- a/va-a-escampar.txt</span>
<span class="go">+++ b/va-a-escampar.txt</span>
<span class="go">@@ -9,3 +9,10 @@ Hoy que claro ve las cosas</span>
<span class="go"> que ayer no vio, ni va a exigir</span>
<span class="go"> Sobre su pena se posa</span>
<span class="go"> quiere entender para seguir</span>
<span class="go">+</span>
<span class="go">+Llega la batalla</span>
<span class="go">+y contra él estalla</span>
<span class="go">+algún día va a escampar.</span>
<span class="go">+y como sale de esta</span>
<span class="go">+quiere la respuesta</span>
<span class="go">+sabe que no es escapar.</span>
</pre></div>
<p>Git identifica las diferencias entre el archivo y la versión
intermedia (pero no comiteada), guardada en la <em>staging area</em> (la voy
a llamar <em>zona de preparación</em>). Si agregamos estos cambios al
almacenamiento intermedio, veremos lo&nbsp;siguiente:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git add va-a-escampar.txt
<span class="gp">$</span> git diff
</pre></div>
<p>Ahora no hay ninguna salida, porque el archivo actualmente en edición
es igual al que guardamos en la <em>zona de preparación</em>.</p>
<p>Sin embargo, si&nbsp;hacemos:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff --staged
<span class="go">diff --git a/va-a-escampar.txt b/va-a-escampar.txt</span>
<span class="go">index db818ec..0c33091 100644</span>
<span class="go">--- a/va-a-escampar.txt</span>
<span class="go">+++ b/va-a-escampar.txt</span>
<span class="go">@@ -9,3 +9,10 @@ Hoy que claro ve las cosas</span>
<span class="go"> que ayer no vio, ni va a exigir</span>
<span class="go"> Sobre su pena se posa</span>
<span class="go"> quiere entender para seguir</span>
<span class="go">+</span>
<span class="go">+Llega la batalla</span>
<span class="go">+y contra él estalla</span>
<span class="go">+algún día va a escampar.</span>
<span class="go">+y como sale de esta</span>
<span class="go">+quiere la respuesta</span>
<span class="go">+sabe que no es escapar.</span>
</pre></div>
<p>Ahora nos está mostrando las diferencias entre el último cambio
comiteado (en el almacenamiento de largo plazo) y lo que hay en la
<em>zona de preparación</em>. Guardemos estos&nbsp;cambios:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git commit -m <span class="s2">&quot;Tercera estrofa agregada&quot;</span>
<span class="go">[master 8f1eec1] Tercera estrofa agregada</span>
<span class="go"> 1 file changed, 7 insertions(+)</span>
</pre></div>
<p>Vemos cómo&nbsp;quedó:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="go">nothing to commit, working directory clean</span>
</pre></div>
<p>Y podemos examinar la historia de lo que fue sucediendo hasta&nbsp;ahora:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git log
<span class="go">commit 8f1eec1836a9ace8a2cbab7e2c3341efa5c3a537</span>
<span class="go">Author: eldiegoefe &lt;eldiegoefe@gmail.com&gt;</span>
<span class="go">Date:   Mon Oct 6 19:55:10 2014 -0300</span>

<span class="go">    Tercera estrofa agregada</span>

<span class="go">commit 6ae57e3d91a7a526a257df081d83a5b9be4e6d28</span>
<span class="go">Author: eldiegoefe &lt;eldiegoefe@gmail.com&gt;</span>
<span class="go">Date:   Mon Oct 6 16:54:40 2014 -0300</span>

<span class="go">    Agregada la segunda estrofa</span>

<span class="go">commit 38b86f5625453732e442c127f1d4678ec8550a12</span>
<span class="go">Author: eldiegoefe &lt;eldiegoefe@gmail.com&gt;</span>
<span class="go">Date:   Mon Oct 6 15:35:07 2014 -0300</span>

<span class="go">    Empezando a transcribir la letra de La Vela</span>
</pre></div>
<p>Resumiendo, cuando queremos hacer cambios en nuestro repositorio,
primero tenemos que agregar los cambios a la <em>zona de preparación</em> (con
<em>git add</em>), y luego <em>comitear</em> los cambios ensayados al repositorio
(con <em>git commit</em>).</p>
<object class="align-center" data="http://software-carpentry.org/v5/novice/git/img/git-committing.svg" style="width: 100.0%;" type="image/svg+xml">
trabajando con git</object>
</div>
<div class="section" id="explorando-el-historial">
<h2>Explorando el&nbsp;historial</h2>
<p>Para ver lo que cambiamos, usamos <em>git diff</em> también, pero para
refiriéndonos a versiones viejas con la notación <span class="caps">HEAD</span>~1, <span class="caps">HEAD</span>~2,&nbsp;etc:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff HEAD~1 va-a-escampar.txt
<span class="go">diff --git a/va-a-escampar.txt b/va-a-escampar.txt</span>
<span class="go">index db818ec..0c33091 100644</span>
<span class="go">--- a/va-a-escampar.txt</span>
<span class="go">+++ b/va-a-escampar.txt</span>
<span class="go">@@ -9,3 +9,10 @@ Hoy que claro ve las cosas</span>
<span class="go"> que ayer no vio, ni va a exigir</span>
<span class="go"> Sobre su pena se posa</span>
<span class="go"> quiere entender para seguir</span>
<span class="go">+</span>
<span class="go">+Llega la batalla</span>
<span class="go">+y contra él estalla</span>
<span class="go">+algún día va a escampar.</span>
<span class="go">+y como sale de esta</span>
<span class="go">+quiere la respuesta</span>
<span class="go">+sabe que no es escapar.</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff HEAD~2 va-a-escampar.txt
<span class="go">diff --git a/va-a-escampar.txt b/va-a-escampar.txt</span>
<span class="go">index 97ab7b0..0c33091 100644</span>
<span class="go">--- a/va-a-escampar.txt</span>
<span class="go">+++ b/va-a-escampar.txt</span>
<span class="go">@@ -4,3 +4,15 @@ Hoy asume lo que venga</span>
<span class="go"> sea para bien, o todo mal.</span>
<span class="go"> y aunque pierda lo que tenga</span>
<span class="go"> se va a morder para aguantar</span>
<span class="go">+</span>
<span class="go">+Hoy que claro ve las cosas</span>
<span class="go">+que ayer no vio, ni va a exigir</span>
<span class="go">+Sobre su pena se posa</span>
<span class="go">+quiere entender para seguir</span>
<span class="go">+</span>
<span class="go">+Llega la batalla</span>
<span class="go">+y contra él estalla</span>
<span class="go">+algún día va a escampar.</span>
<span class="go">+y como sale de esta</span>
<span class="go">+quiere la respuesta</span>
<span class="go">+sabe que no es escapar.</span>
</pre></div>
<p>De esta manera construimos una cadena de revisiones. El extremo más
reciente de la cadena es <span class="caps">HEAD</span>; podemos referirnos a revisiones previas
usando la notación ~, de manera que <span class="caps">HEAD</span>~1 (se pronuncia &#8220;head menos
uno&#8221;) significa &#8220;la revisión previa&#8221;, mientras que <span class="caps">HEAD</span>~123 vuelve 123
revisiones hacia atrás, desde donde nos encontramos en la&nbsp;actualidad.</p>
<p>También nos podemos referir a las revisiones usando las cadenas largas
de dígitos y letras que Git muestra en los logs. Estos son IDs únicos
para los cambios, &#8220;únicos&#8221; significa realmente únicos: cada cambio a
cualquier conjunto de archivos en cualquier máquina tiene un
identificador de 40 caracteres. Nuestro primer commit nos dio el <span class="caps">ID</span>
38b86f5625453732e442c127f1d4678ec8550a12, así que probemos&nbsp;esto:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff 38b86f5625453732e442c127f1d4678ec8550a12 va-a-escampar.txt
<span class="go">diff --git a/va-a-escampar.txt b/va-a-escampar.txt</span>
<span class="go">index 97ab7b0..0c33091 100644</span>
<span class="go">--- a/va-a-escampar.txt</span>
<span class="go">+++ b/va-a-escampar.txt</span>
<span class="go">@@ -4,3 +4,15 @@ Hoy asume lo que venga</span>
<span class="go"> sea para bien, o todo mal.</span>
<span class="go"> y aunque pierda lo que tenga</span>
<span class="go"> se va a morder para aguantar</span>
<span class="go">+</span>
<span class="go">+Hoy que claro ve las cosas</span>
<span class="go">+que ayer no vio, ni va a exigir</span>
<span class="go">+Sobre su pena se posa</span>
<span class="go">+quiere entender para seguir</span>
<span class="go">+</span>
<span class="go">+Llega la batalla</span>
<span class="go">+y contra él estalla</span>
<span class="go">+algún día va a escampar.</span>
<span class="go">+y como sale de esta</span>
<span class="go">+quiere la respuesta</span>
<span class="go">+sabe que no es escapar.</span>
</pre></div>
<p>Para no tipear cadenas de 40 números, Git permite usar los primeros de
la cadena, con el mismo&nbsp;resultado:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git diff 38b86f5 va-a-escampar.txt
</pre></div>
</div>
<div class="section" id="recuperar-versiones-antiguas">
<h2>Recuperar versiones&nbsp;antiguas</h2>
<p>De acuerdo: podemos grabar cambios a los archivos y ver qué hemos
cambiado. Pero ¿cómo restauramos versiones viejas de las cosas?
Supongamos que sobreescribimos accidentalmente nuestro archivo
va-a-escampar.txt, que pasa a contener sólo la siguiente&nbsp;linea:</p>
<pre class="literal-block">
no va a escampar nada
</pre>
<p>El comando <em>cat</em> muestra el contenido del&nbsp;archivo:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> cat va-a-escampar.txt
<span class="go">no va a escampar nada</span>
</pre></div>
<p>Con <em>git status</em> nos enteramos que el archivo ha cambiado, pero esos
cambios aún no pasaron a la <em>zona de preparación</em> (<em>staging area</em>).</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Changes not staged <span class="k">for</span> commit:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed<span class="o">)</span>
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git checkout -- &lt;file&gt;...&quot;</span> to discard changes in working directory<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    modified:   va-a-escampar.txt
<span class="gp">#</span>
<span class="go">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span>
</pre></div>
<p>Podemos volver atrás, dejando las cosas como estaban antes, usando
<em>git checkout</em>:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git checkout HEAD va-a-escampar.txt
<span class="gp">$</span> cat va-a-escampar.txt

<span class="go">Va a escampar</span>

<span class="go">Hoy asume lo que venga</span>
<span class="go">sea para bien, o todo mal.</span>
<span class="go">y aunque pierda lo que tenga</span>
<span class="go">se va a morder para aguantar</span>

<span class="go">Hoy que claro ve las cosas</span>
<span class="go">que ayer no vio, ni va a exigir</span>
<span class="go">Sobre su pena se posa</span>
<span class="go">quiere entender para seguir</span>

<span class="go">Llega la batalla</span>
<span class="go">y contra él estalla</span>
<span class="go">algún día va a escampar.</span>
<span class="go">y como sale de esta</span>
<span class="go">quiere la respuesta</span>
<span class="go">sabe que no es escapar.</span>
</pre></div>
<p>Con <em>git checkout</em> se recupera una versión anterior de un archivo. En
este caso, le estamos pidiendo a Git que recupere la versión del
archivo guardada en <span class="caps">HEAD</span>, que fue la última revisión guardada. Si
quisiéramos ir más atrás podríamos usar un identificador de&nbsp;revisión:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git checkout 38b86f5 va-a-escampar.txt
</pre></div>
<p>Es importante recordar que debemos usar el número de revisión que
identifica el estado del repositorio antes del cambio que estamos
tratando de revertir. Un error común es usar el número de revisión del
commit en el cual hicimos el cambio del cual estamos tratando de
deshacernos. En el ejemplo de abajo queremos recobrar el estado
inmediatamente anterior al commit más reciente (<span class="caps">HEAD</span>~1), que es la
revisión 6ae57e3d9 (en la figura -realizada con otro ejemplo-
corresponde a la revision&nbsp;f22b25e):</p>
<object class="align-center" data="http://software-carpentry.org/v5/novice/git/img/git-checkout.svg" style="width: 90.0%;" type="image/svg+xml">
retornando a una revisión anterior de un archivo</object>
<p>El diagrama siguiento ilustra el modo en que puede verse la historia
de un archivo (moviéndose hacia atrás desde <span class="caps">HEAD</span>, la versión más
recientemente&nbsp;comiteada):</p>
<object class="align-center" data="http://software-carpentry.org/v5/novice/git/img/git-when-revisions-updated.svg" style="width: 90.0%;" type="image/svg+xml">
historia de las revisiones de un archivo</object>
<pre class="literal-block">
Simplificando un caso común

Si mirás cuidadosamente la salida de *git status*, vas a ver esta
ayuda:

(use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

Tal como afirma, *git checkout* sin un identificador de versión
restaura los archivos al estado guardado en HEAD. El guión doble -- es
necesario para separar los nombres de los archivos siendo recuperados
del comando mismo: sin esos guiones, Git trataría de usar el nombre
del archivo como identificador de la revisión a la cual se desea volver.
</pre>
<p>El hecho de que los archivos puedan recuperarse o revertirse uno por
uno tiende a cambiar el modo en que la gente organiza su trabajo. Si
todo estuviese en un solo gran archivo, entonces es dificil (si no
imposible) deshacer los cambios a la introducción sin también deshacer
los cambios hechos a continuación a la conclusión. Por otra parte, si
la introducción y la conclusión estuviesen en archivos separados,
entonces sería más fácil moverse hacia atrás y hacia adelante en el&nbsp;tiempo.</p>
</div>
<div class="section" id="ignorando-cosas">
<h2>Ignorando&nbsp;cosas</h2>
<p>Vamos a ver qué hacer con los archivos del mismo directorio que no
queremos incluir en el sistema de control de versiones. Agregamos
algunos archivos vacíos:&nbsp;a.dat</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> mkdir results
<span class="gp">$</span> touch a.dat b.dat c.dat results/a.out results/b.out
</pre></div>
<p>Y vemos qué dice&nbsp;Git:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Untracked files:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    a.dat
<span class="gp">#</span>    b.dat
<span class="gp">#</span>    c.dat
<span class="gp">#</span>    results/
<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot;</span>
<span class="go">to track)</span>
</pre></div>
<p>Colocar estos archivos bajo control de versiones sería un desperdicio
de espacio en disco. Peor aún, tenerlos listados nos distraería de los
cambios que realmente importan, de manera que debemos decirle a Git
que los ignore, creando un archivo en el directorio raiz del
proyecto. Al archivo lo llamamos <em>.gitignore</em>.</p>
<p>Dentro de <em>.gitignore</em> colocamos los patrones para ignorar archivos,
en este caso los archivos que terminen en <em>.dat</em> y los archivos que se
encuentren en el subdirectorio <em>results</em> (si cualquiera de estos
archivos hubiese estado siendo parte del control de versiones, Git
continuará considerándolo a pesar de figurar en <em>.gitignore</em>). Al listar
el contenido de <em>.gitignore</em> deberíamos obtener&nbsp;esto:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> cat .gitignore
<span class="go">*.dat</span>
<span class="go">results/</span>
</pre></div>
<p>Si pedimos el status del proyecto, la salida se verá mucho más limpia
que&nbsp;antes:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="gp">#</span> Untracked files:
<span class="gp">#</span>   <span class="o">(</span>use <span class="s2">&quot;git add &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>    .gitignore
<span class="go">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span>
</pre></div>
<p>La única cosa que Git advierte ahora es el archivo <em>.gitignore</em>
recientemente creado. Podríamos creer que no querríamos incorporarlo
al control de versiones, pero todos con quienes
compartimos el repositorio probablemente querrían ignorar las mismas
cosas que estamos ignorando nosotros. Así que agregamos y comiteamos
este archivo (oculto, pues empieza con un&nbsp;punto):</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git add .gitignore
<span class="gp">$</span> git commit -m <span class="s2">&quot;Agregado del archivo de ignorancias&quot;</span>
<span class="gp">$</span> git status
<span class="gp">#</span> On branch master
<span class="go">nothing to commit, working directory clean</span>
</pre></div>
<p>Como un extra, al usar <em>.gitignore</em> evitamos agregar accidentalmente
archivos que no queremos al&nbsp;repositorio.</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git add a.dat
<span class="go">The following paths are ignored by one of your .gitignore files:</span>
<span class="go">a.dat</span>
<span class="go">Use -f if you really want to add them.</span>
<span class="go">fatal: no files added</span>
</pre></div>
<p>Si queremos realmente pasar por alto los seteos de <em>.gitignore</em>,
podemos usar <em>git add -f</em> para forzar a Git a agregar algo. Siempre
podemos ver la situación de los archivos ignorados si&nbsp;quisiéramos:</p>
<div class="highlight"><pre><span></span><span class="gp">$</span> git status --ignored

<span class="gp">#</span> On branch master
<span class="gp">#</span> Ignored files:
<span class="gp">#</span>  <span class="o">(</span>use <span class="s2">&quot;git add -f &lt;file&gt;...&quot;</span> to include in what will be committed<span class="o">)</span>
<span class="gp">#</span>
<span class="gp">#</span>        a.dat
<span class="gp">#</span>        b.dat
<span class="gp">#</span>        c.dat
<span class="gp">#</span>        results/

<span class="go">nothing to commit, working directory clean</span>
</pre></div>
</div>
<div class="section" id="claves">
<h2>Claves</h2>
<blockquote>
<p>Usar <strong>git config</strong> para configurar un usuario, dirección de email,
editor y otras preferencias (todas estas cosas son válidas para una&nbsp;máquina)</p>
<p>Con <strong>git init</strong> se inicializa un&nbsp;repositorio</p>
<p>Con <strong>git status</strong> se muestra la situación de un&nbsp;repositorio</p>
<p>Los archivos puedes almacenarse en el directorio de trabajo (que los
usuarios ven), la <em>zona de preparación</em> o <em>staging area</em> (desde donde
se realizará el próximo commit) y el repositorio local (donde las
instantáneas son almacenadas&nbsp;permanentemente).</p>
<p>Con <strong>git add</strong> se agregan archivos a la <em>zona de preparación</em>.</p>
<p>Con <strong>git commit</strong> se crea una instantanea de la <em>zona de preparación</em>
en el repositorio&nbsp;local.</p>
<p>Siempre escribir un mensaje al comitear cambios (con <strong>git commit -m
&#8220;mensaje&#8221;</strong>).</p>
<p>Con <strong>git diff</strong> se muestran las diferencias entre&nbsp;versiones.</p>
<p>Con <strong>git checkout</strong> se recuperan viejas versiones de un&nbsp;archivo.</p>
<p>El archivo <strong>.gitignore</strong> indica a Git los archivos a ser ignorados
por el sistema de control de&nbsp;versiones.</p>
</blockquote>
</div>

<section>
<p id="comment-message">No te vayas sin comentar algo del post, de las noticias del día, del clima, que se yo... </p>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                    data-disqus-identifier="control de versiones parte 1"
                href="http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-1.html#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'certezasdudosas';
        var disqus_identifier = 'control de versiones parte 1';
    var disqus_url = 'http://eldiegoefe.github.io/tutorial-sobre-control-de-versiones-parte-1.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>                </div>
            </div>
        </div>
    </div>
</div>
</section>
            <aside>
            <hr/>
            <nav>
            <ul class="articles_timeline">
 
                <li class="previous_article">« <a href="http://eldiegoefe.github.io/de-jpg-a-pdf.html" title="Previous: De jpg a&nbsp;pdf">De jpg a&nbsp;pdf</a></li>
 
                <li class="next_article"><a href="http://eldiegoefe.github.io/emacs-y-restructuredtext.html" title="Next: Emacs y&nbsp;restructuredText">Emacs y&nbsp;restructuredText</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
 
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2014-10-06T10:00:00-03:00">oct 6, 2014</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#tecnicismos-ref">tecnicismos</a> 
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article"> 
                <li><a href="/tags.html#control-de-versiones-ref">control de versiones
                    <span>6</span>
</a></li>
                <li><a href="/tags.html#git-ref">git
                    <span>9</span>
</a></li>
                <li><a href="/tags.html#tutorial-ref">tutorial
                    <span>12</span>
</a></li>
            </ul>

        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">Certezas Dudosas</span> - todo lo liquido se desvanece en el estomago</li>
        <li class="elegant-license">Podes usar el contenido de este blog si pones un link hacia http://eldiegoefe.github.io/</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

<script type="text/javascript">
    var disqus_shortname = 'certezasdudosas';

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
        <script  language="javascript" type="text/javascript">
            function uncollapse() {
                var hash_str = window.location.hash;
                if (window.location.hash.match(/^#comment-\d+$/))
                {
                    var hash_str = '#disqus_thread';
                }
                $(hash_str).collapse({
                    toggle: true
                    })
            }
        </script>

        <script type="text/javascript" language="JavaScript">
            uncollapse(); 
        </script>
    </body>
</html>