<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Clojure, nuevo entretenimiento - Certezas Dudosas</title><meta name="description" content="Blog del Diego Efe"><meta property="og:url" content="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/">
  <meta property="og:site_name" content="Certezas Dudosas">
  <meta property="og:title" content="Clojure, nuevo entretenimiento">
  <meta property="og:description" content="En el mundo Emacs se menciona bastante el lenguaje Clojure, como un dialecto de Lisp que corre sobre el Java Virtual Machine, lo cual constituye para mi un dato casi completamente inutil, puesto que desconozco Java y su JVM. De cualquier manera, mientras continúo leyendo ANSI Common Lisp, me dieron ganas de probar, así que guardo aquí las instrucciones de instalación para usar Clojure con Emacs en Linux.
La cuestión no es tan complicada, primero verificamos desde un terminal que Java está instalado:">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2014-11-27T10:00:00+00:00">
    <meta property="article:modified_time" content="2017-01-08T10:00:00+00:00">
    <meta property="article:tag" content="Lisp">
    <meta property="article:tag" content="Clojure">
    <meta property="og:image" content="https://eldiegoefe.github.io/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://eldiegoefe.github.io/logo.png">
  <meta name="twitter:title" content="Clojure, nuevo entretenimiento">
  <meta name="twitter:description" content="En el mundo Emacs se menciona bastante el lenguaje Clojure, como un dialecto de Lisp que corre sobre el Java Virtual Machine, lo cual constituye para mi un dato casi completamente inutil, puesto que desconozco Java y su JVM. De cualquier manera, mientras continúo leyendo ANSI Common Lisp, me dieron ganas de probar, así que guardo aquí las instrucciones de instalación para usar Clojure con Emacs en Linux.
La cuestión no es tan complicada, primero verificamos desde un terminal que Java está instalado:">
<meta name="application-name" content="FeelIt">
<meta name="apple-mobile-web-app-title" content="FeelIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" /><link rel="prev" href="https://eldiegoefe.github.io/la-fotograf%C3%ADa-en-la-era-de-lo-memorable/" /><link rel="next" href="https://eldiegoefe.github.io/artes-marciales/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Clojure, nuevo entretenimiento",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/eldiegoefe.github.io\/clojure-nuevo-entretenimiento\/"
        },"genre": "posts","keywords": "lisp, clojure","wordcount":  694 ,
        "url": "https:\/\/eldiegoefe.github.io\/clojure-nuevo-entretenimiento\/","datePublished": "2014-11-27T10:00:00+00:00","dateModified": "2017-01-08T10:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Diego Efe"
            },"description": ""
    }
    </script></head><body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Certezas Dudosas">Certezas Dudosas</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="Buscar">
                            <i class="fa-solid fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="Limpiar">
                            <i class="fa-solid fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fa-solid fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a class="menu-item" href="/index.xml" title="RSS"><i class="fa-solid fa-rss fa-fw" title="RSS"></i> </a><a href="#" onclick="return false;" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fa-solid fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Certezas Dudosas">Certezas Dudosas</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="Buscar">
                            <i class="fa-solid fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="Limpiar">
                            <i class="fa-solid fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fa-solid fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        Cancelar
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><div class="menu-item"><a href="/index.xml" title="RSS"><i class="fa-solid fa-rss fa-fw" title="RSS"></i> </a>
                <span>&nbsp;|&nbsp;</span><a href="#" onclick="return false;" class="theme-switch" title="Cambia el tema">
                    <i class="fa-solid fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><article class="page single" data-toc="disable"><div class="single-card" ><h2 class="single-title animated flipInX">Clojure, nuevo entretenimiento</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fa-solid fa-user-circle fa-fw"></i>Diego Efe</a></span>&nbsp;<span class="post-category">publicado en <a href="/categories/tecnicismos/"><i class="fa-regular fa-folder fa-fw"></i>Tecnicismos</a></span></div>
                <div class="post-meta-line"><span><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2014-11-27">2014-11-27</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;694 palabras</span>&nbsp;
                    <span><i class="fa-regular fa-clock fa-fw"></i>&nbsp;4 minutos</span>&nbsp;</div>
            </div>
            
            <hr><div class="content" id="content"><p>En el mundo Emacs se menciona bastante el lenguaje Clojure, como un dialecto de
Lisp que corre sobre el Java Virtual Machine, lo cual constituye para mi un dato
casi completamente inutil, puesto que desconozco Java y su JVM. De cualquier
manera, mientras continúo leyendo ANSI Common Lisp, me dieron ganas de probar,
así que guardo aquí las instrucciones de instalación para usar Clojure con Emacs
en Linux.</p>
<p>La cuestión no es tan complicada, primero verificamos desde un terminal
que Java está instalado:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> java -version
</span></span><span class="line"><span class="cl"><span class="go">java version &#34;1.7.0_65&#34;
</span></span></span><span class="line"><span class="cl"><span class="go">OpenJDK Runtime Environment (IcedTea 2.5.2) (Arch Linux build 7.u65_2.5.2-3-x86_64)
</span></span></span><span class="line"><span class="cl"><span class="go">OpenJDK 64-Bit Server VM (build 24.65-b04, mixed mode)
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Como en mi caso obtuve el mensaje precedente, no me tuve que preocupar
de instalar Java.</p>
<p>Las instrucciones de instalación están en <a href="http://clojure-doc.org/articles/tutorials/emacs.html" target="_blank" rel="noopener noreffer">Clojure with
Emacs</a>. En
resumen, lo que hice fue visitar la página de
<a href="http://leiningen.org/" target="_blank" rel="noopener noreffer">Leiningen</a> y entonces:</p>
<ul>
<li>Bajar el script de bash (de nombre &quot;<em>lein</em>&quot;)</li>
<li>Copiarlo en una carpeta (<em>~/programas/lein/</em>)</li>
<li>Ir a <em>/usr/bin</em> y crear allí un symlink a lein (con &quot;<em>sudo ln -s
~/programas/lein/lein</em>&quot;). El directorio /usr/bin está en el PATH
así que todo lo que ahí se almacena puede ser encontrado para su
ejecución. El symlink guardado allí apunta al programa en la
dirección donde lo guardamos, así que ahora podremos ejecutar lein
desde cualquier lugar.</li>
<li>Pero aún falta volver ejecutable el script (con &quot;<em>chmod a+x
lein</em>&quot;)</li>
<li>Finalmente hay que ejecutar lein, lo cual hace que se baje Leiningen
y se instale en el directorio <em>~/.lein</em>.</li>
</ul>
<p>El directorio creado originalmente (~/programas/lein) debe permanecer
porque allí sigue estando lein, que se ejecutará siempre que se cree un
proyecto (lo que se baja en ~/.lein no lo sustituye).</p>
<p><em>Agregado</em>: no hace falta copiar <em>lein</em> en un directorio como
<em>~/programas/lein/</em> y luego armar un symlink desde <em>/usr/bin</em>, se puede
directamente copiar lein en este último y listo.</p>
<p>En Emacs instalé CIDER, y además como tengo Prelude habilité en el
archivo prelude-modules.el la linea (require 'prelude-clojure). Así que
si no lo instalaba yo, el mismo Prelude hubiese bajado CIDER.</p>
<p>El tutorial de Clojure with Emacs indica que hay que ejecutar estas dos
órdenes desde un terminal (el resultado es la creación de un proyecto
llamado <em>command-line-args</em> dentro de un subdirectorio que se ubica
dentro del directorio actual en que se encuentra el terminal):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> lein new command-line-args
</span></span><span class="line"><span class="cl"><span class="gp">$</span> <span class="nb">cd</span> command-line-args
</span></span></code></pre></td></tr></table>
</div>
</div><p>Luego desde Emacs se abre el archivo /command-line-args/project.clj y se
lo edita para agregar al texto que ya tiene, la siguiente linea (siempre
según el tutorial):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-clojure" data-lang="clojure"><span class="line"><span class="cl"><span class="ss">:profiles</span> <span class="p">{</span><span class="ss">:dev</span> <span class="p">{</span><span class="ss">:plugins</span> <span class="p">[[</span><span class="nv">cider/cider-nrepl</span> <span class="s">&#34;0.7.0&#34;</span><span class="p">]]}}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hay que cambiar la versión que allí se coloca, puesto que ya no será la
&quot;0.7.0&quot;. En el <a href="https://github.com/clojure-emacs/cider-nrepl" target="_blank" rel="noopener noreffer">github de
cider-nrepl</a> figura la
última versión. Una vez que hayamos agregado esta linea hay que guardar
el archivo y hacer desde allí mismo <strong>M-x cider-jack-in</strong>. Si todo va
bien se abre un buffer con el prompt del repl.</p>
<p>Tuve que dar varias vueltas hasta que esto último funcionó porque
aparecían mensajes de error antes de abrir el buffer o en el mismo
buffer. Lo que sucede es que debe coincidir la versión del cider-nrepl
con la versión de cider instalada. Cuando sustituía &quot;0.7.0&quot; por
&quot;0.8.2&quot; daba un mensaje diciendo que no encontraba esa versión para
bajar desde los repositorios y cuando intentaba con &quot;0.8.1&quot; me decía</p>
<pre><code>WARNING: CIDERs version (0.8.2-snapshot) does not match cider-nrepl version (0.8.1)
</code></pre>
<p>Todo se solucionó cuando en vez de poner &quot;0.8.2&quot; escribí
&quot;0.8.2-SNAPSHOT&quot; (por eso hay que prestar atención a cuál es la
versión de CIDER que está instalada y copiar el mismo código, el cual
seguramente coincide con la versión que indica el <a href="https://github.com/clojure-emacs/cider-nrepl" target="_blank" rel="noopener noreffer">github de
cider-nrepl</a>). Y <strong>ojo, es
todo con mayúsculas</strong>, no importa cómo aparezca la versión de CIDER. Y
voilá:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-clojure" data-lang="clojure"><span class="line"><span class="cl"><span class="c1">; CIDER 0.8.2alpha (package: 20141126.715) (Java 1.7.0_65, Clojure 1.6.0, nREPL 0.2.6)</span>
</span></span><span class="line"><span class="cl"><span class="nv">user&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Para averiguar la versión instalada de cider:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">M-x cider-version
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="un-nuevo-comienzo">Un nuevo comienzo</h2>
<p>Ahora, con todo listo para usarse, podemos seguir algún tutorial, como
el de <a href="http://www.braveclojure.com/" target="_blank" rel="noopener noreffer">Clojure for the brave and true</a>. El
primer capítulo ya nos permite probar las cosas más básicas, como armar
un proyecto nuevo con <em>lein</em>, armar el ejecutable java para distribuir,
y jugar con el repl.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/lisp/">Lisp</a>
                </span><span><a href="/tags/clojure/">Clojure</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>Actualizado el 2017-01-08</span>
            </div><div class="post-info-mod"><span>
                            <a class="link-to-markdown" href="/clojure-nuevo-entretenimiento/index.md" target="_blank">Leer Markdown</a>
                        </span></div>
        </div><div class="post-info-share">
            <span><a href="#" onclick="return false;" title="Compartir en Twitter" data-sharer="twitter" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento" data-hashtags="lisp,clojure"><i class="fa-brands fa-square-x-twitter fa-fw"></i></a><a href="#" onclick="return false;" title="Compartir en Facebook" data-sharer="facebook" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-hashtag="lisp"><i class="fa-brands fa-facebook-square fa-fw"></i></a><a href="#" onclick="return false;" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento" data-web><i class="fa-brands fa-whatsapp fa-fw"></i></a><a href="#" onclick="return false;" title="Compartir en Line" data-sharer="line" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento"><i class="fa-brands fa-line fa-fw"></i></a><a href="#" onclick="return false;" title="Compartir en 微博" data-sharer="weibo" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento"><i class="fa-brands fa-weibo fa-fw"></i></a><a href="#" onclick="return false;" title="Compartir en Myspace" data-sharer="myspace" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="#" onclick="return false;" title="Compartir en Blogger" data-sharer="blogger" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento" data-description=""><i class="fa-brands fa-blogger fa-fw"></i></a><a href="#" onclick="return false;" title="Compartir en Evernote" data-sharer="evernote" data-url="https://eldiegoefe.github.io/clojure-nuevo-entretenimiento/" data-title="Clojure, nuevo entretenimiento"><i class="fa-brands fa-evernote fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/la-fotograf%C3%ADa-en-la-era-de-lo-memorable/" class="prev" rel="prev" title="La fotografía en la era de lo memorable"><i class="fa-solid fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/artes-marciales/" class="next" rel="next" title="Artes marciales">Next Post<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="disqus_thread"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.148.1">Hugo</a> | Tema - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.2"><i class="fa-solid fa-hand-holding-heart fa-fw"></i> FeelIt</a>
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/"></a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('/sw.min.js?version=1.0.1', { scope: '/' })
        .then(() => {
            console.info('Certezas Dudosas\u00A0Service Worker Registered');
        }, err => console.error('Certezas Dudosas\u00A0Service Worker registration failed: ', err));

    navigator.serviceWorker
        .ready
        .then(() => {
            console.info('Certezas Dudosas\u00A0Service Worker Ready');
        });
}
</script>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fa-solid fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fa-solid fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="https://certezasdudosas.disqus.com/embed.js" defer></script><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/lunr/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.es.min.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script src="/lib/katex/katex.min.js"></script><script src="/lib/katex/auto-render.min.js"></script><script src="/lib/katex/copy-tex.min.js"></script><script src="/lib/katex/mhchem.min.js"></script><script src="/lib/cookieconsent/cookieconsent.min.js"></script><script>window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"De acuerdo","link":"Aprende más","message":"Este sitio web utiliza Cookies para mejorar su experiencia."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"es","maxResultLength":10,"noResultsFound":"No se encontraron resultados","snippetLength":30,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
