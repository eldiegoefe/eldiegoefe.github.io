<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Primer snippet | Certezas Dudosas</title>
<meta name="keywords" content="emacs, yasnippets">
<meta name="description" content="Un snippet ejemplar
Este es el primer snippet diseñado para automatizar el encabezado de las paginas
hechas en restructuredText, para facilitarme la escritura de este blog. Hay
mucha ayuda en la página de Capitao Morte (supongo que es su autor).
# -*- mode: snippet; require-final-newline: nil -*-
# name: encabezado
# key: enc
# expand-env: ((yas-indent-line &#39;fixed))
# --

:---
title: &#34;${1:titulo}&#34;
:date: ${2:2014}-{3:10}-{4:31} {5:10:00}
:category: ${6:$$(yas-choose-value &#39;(&#34;blog&#34; &#34;politica&#34; &#34;salud&#34; &#34;tecnicismos&#34;))}
:tags: $7
---
:author: Diego Efe
:excerpt: $1

$0
En la linea 14 la instrucción $0 se agregó porque en algún lado decía
que suele ponerse para indicar el lugar de salida cuando se termina de
ejecutar el snippet.">
<meta name="author" content="Diego Efe">
<link rel="canonical" href="http://localhost:1313/posts/emacs/2014-08-10-primer-snippet/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/emacs/2014-08-10-primer-snippet/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Certezas Dudosas (Alt + H)">Certezas Dudosas</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Primer snippet
    </h1>
    <div class="post-meta"><span title='2014-08-10 10:02:00 +0000 UTC'>August 10, 2014</span>&nbsp;·&nbsp;<span>Diego Efe</span>

</div>
  </header> 
  <div class="post-content"><h2 id="un-snippet-ejemplar">Un snippet ejemplar<a hidden class="anchor" aria-hidden="true" href="#un-snippet-ejemplar">#</a></h2>
<p>Este es el primer snippet diseñado para automatizar el encabezado de las paginas
hechas en restructuredText, para facilitarme la escritura de este blog. Hay
mucha ayuda en la página de Capitao Morte (supongo que es su autor).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rest" data-lang="rest"><span style="display:flex;"><span># -<span style="font-style:italic">*- mode: snippet; require-final-newline: nil -*</span>-<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span># name: encabezado<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span># key: enc<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span># expand-env: ((yas-indent-line &#39;fixed))<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span># --<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>:---<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>title: &#34;${1:titulo}&#34;<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">:date:</span> <span style="color:#a6e22e">${2:2014}-{3:10}-{4:31} {5:10:00}</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">:category:</span> <span style="color:#a6e22e">${6:$$(yas-choose-value &#39;(&#34;blog&#34; &#34;politica&#34; &#34;salud&#34; &#34;tecnicismos&#34;))}</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>:tags: $7
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">:author:</span> <span style="color:#a6e22e">Diego Efe</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#a6e22e">:excerpt:</span> <span style="color:#a6e22e">$1</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>$0<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>En la linea 14 la instrucción $0 se agregó porque en algún lado decía
que suele ponerse para indicar el lugar de salida cuando se termina de
ejecutar el snippet.</p>
<p>La linea 4 está para que la indentación aparezca correcta al ejecutarse
el snippet, ya que sin esta linea aparecían unas tabulaciones erróneas.</p>
<h2 id="dónde-guardar-el-archivo">¿Dónde guardar el archivo?<a hidden class="anchor" aria-hidden="true" href="#dónde-guardar-el-archivo">#</a></h2>
<p>No conviene guardar el snippet nuevo en el directorio donde se almacena
automáticamente el paquete <em>yasnippets</em> porque al actualizar este
paquete se perderá nuestra creación.</p>
<p>Se puede verificar el valor de la variable donde se almacenan los
directorios para los snippets personalizados mediante <strong>M-x
customize-variable yas-snippet-dirs</strong>).</p>
<p>Para agregar un directorio personal al lugar donde Emacs busca los snippets,
podemos colocar el siguiente código:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-elisp" data-lang="elisp"><span style="display:flex;"><span>(setq yas-snippet-dirs (<span style="color:#a6e22e">append</span> yas-snippet-dirs
</span></span><span style="display:flex;"><span>                               <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;~/directorio-equis/snippets&#34;</span>)))
</span></span></code></pre></div><p>Dentro de ese directorio se deberán organizar los nuevos snippets siguiendo la
estructura de un subdirectorio para alojar los que correspondan a cada modo:</p>
<blockquote>
<p>snippets/markdown-mode</p>
<p>snippets/org-mode</p>
<p>snippets/rst-mode</p></blockquote>
<p>Por lo tanto, para mi ultra magnífico snippet de restructuredText, corresponde
guardarlo así (sin ninguna extensión):</p>
<blockquote>
<p>~/directorio-equis/snippets/rst-mode/encabezado</p></blockquote>
<h2 id="números-de-linea-rst-mode">Números de linea (rst-mode)<a hidden class="anchor" aria-hidden="true" href="#números-de-linea-rst-mode">#</a></h2>
<blockquote>
<ul>
<li>debajo del <strong>.. code-block::</strong> se debe incluir la directiva
<strong>:linenos:</strong>. No se si es un bug, pero esa directiva debe estar
alineada con la palabra <strong>code</strong> para que funcione, y todo el
bloque de código debe también respetar esta alineación. Para
tabular un bloque de texto manteniendo las indentaciones que ya
tiene se puede usar <em>M-x indent-rigidly</em>.</li>
<li>el nombre del lenguaje en <strong>.. code-block::</strong> parece que debe ir
en minúsculas, para que sea reconocido y funcione el coloreado con
pygments. En el caso de restructuredText la palabra clave que
funcionó (por prueba y error) es rest. (Editado: luego encontré la
página con los &quot;lexers&quot; válidos: <a href="http://pygments.org/docs/lexers/">Available
lexers</a>, y vi que también eran
válidos rst y restructuredtext).</li>
</ul></blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/emacs/">Emacs</a></li>
      <li><a href="http://localhost:1313/tags/yasnippets/">Yasnippets</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Certezas Dudosas</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
