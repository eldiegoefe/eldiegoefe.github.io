<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Comandante Emacs (dired-mode) - Certezas Dudosas</title><meta name="description" content="Mi blog en Hugo"><meta property="og:title" content="Comandante Emacs (dired-mode)" />
<meta property="og:description" content="Estuve un rato largo (¡horas!) viendo cómo usar el modo &quot;dired&quot; que tiene Emacs para el manejo de archivos, porque quiero usarlo al modo del viejo Comandante Norton (y sus clones: Total Commander en Window$, Krusader especialmente para KDE, etc). Es decir: dos paneles que sirven de inicio y de destino para poder copiar y mover archivos, crear directorios, navegarlos, etc.
 Buffer mostrando un directorio con dired-mode   Lo primero que hice fue instalar un paquete que amplía las opciones disponibles llamado dired&#43; (dired plus) y después instalé otra extensión llamada dired-sort-menu." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" /><meta property="og:image" content="http://www.certezasdudosas.com/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-12-26T10:00:00+00:00" />
<meta property="article:modified_time" content="2014-12-26T10:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://www.certezasdudosas.com/logo.png"/>

<meta name="twitter:title" content="Comandante Emacs (dired-mode)"/>
<meta name="twitter:description" content="Estuve un rato largo (¡horas!) viendo cómo usar el modo &quot;dired&quot; que tiene Emacs para el manejo de archivos, porque quiero usarlo al modo del viejo Comandante Norton (y sus clones: Total Commander en Window$, Krusader especialmente para KDE, etc). Es decir: dos paneles que sirven de inicio y de destino para poder copiar y mover archivos, crear directorios, navegarlos, etc.
 Buffer mostrando un directorio con dired-mode   Lo primero que hice fue instalar un paquete que amplía las opciones disponibles llamado dired&#43; (dired plus) y después instalé otra extensión llamada dired-sort-menu."/>
<meta name="application-name" content="FeelIt">
<meta name="apple-mobile-web-app-title" content="FeelIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" /><link rel="prev" href="http://www.certezasdudosas.com/corpore-sano/" /><link rel="next" href="http://www.certezasdudosas.com/agenda-en-emacs-y-orgmode/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Comandante Emacs (dired-mode)",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/www.certezasdudosas.com\/comandante-emacs-dired-mode\/"
        },"genre": "posts","keywords": "emacs, dired","wordcount":  716 ,
        "url": "http:\/\/www.certezasdudosas.com\/comandante-emacs-dired-mode\/","datePublished": "2014-12-26T10:00:00+00:00","dateModified": "2014-12-26T10:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Diego Efe"
            },"description": ""
    }
    </script></head><body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Certezas Dudosas">Certezas Dudosas</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="Buscar">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a class="menu-item" href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Certezas Dudosas">Certezas Dudosas</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Busca títulos o contenido..." id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="Buscar">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="Limpiar">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        Cancelar
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><div class="menu-item"><a href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a>
                <span>&nbsp;|&nbsp;</span><a href="javascript:void(0);" class="theme-switch" title="Cambia el tema">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><article class="page single" data-toc="disable"><div class="single-card" ><h2 class="single-title animated flipInX">Comandante Emacs (dired-mode)</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Diego Efe</a></span>&nbsp;<span class="post-category">publicado en <a href="/categories/tecnicismos/"><i class="far fa-folder fa-fw"></i>tecnicismos</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2014-12-26">2014-12-26</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;716 palabras</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;4 minutos</span>&nbsp;</div>
            </div>
            
            <hr><div class="content" id="content"><p>Estuve un rato largo (¡horas!) viendo cómo usar el modo &quot;dired&quot; que tiene
Emacs para el manejo de archivos, porque quiero usarlo al modo del viejo
Comandante Norton (y sus clones: Total Commander en Window$, Krusader
especialmente para KDE, etc). Es decir: dos paneles que sirven de inicio y de
destino para poder copiar y mover archivos, crear directorios, navegarlos, etc.</p>
<figure><img src="https://live.staticflickr.com/7526/15668751884_b2fa8f9d5b_c.jpg"/><figcaption>
            <h4>Buffer mostrando un directorio con dired-mode</h4>
        </figcaption>
</figure>

<p>Lo primero que hice fue instalar un paquete que amplía las opciones
disponibles llamado dired+ (dired plus) y después instalé otra extensión
llamada dired-sort-menu. La información sobre la instalación de estos
paquetes da por supuesto que uno ya tiene experiencia en Emacs, y a
pesar de que yo lo uso hace casi un año y he instalado y desinstalado
muchas extensiones, estuve un rato para darme cuenta de algo que no
figura en <a href="http://www.emacswiki.org/emacs/DiredPlus" target="_blank" rel="noopener noreffer">la página de
dired+</a>. En el archivo de
configuración de Emacs (init.el, custom.el o el que estemos utilizando)
es imprescindible agregar la orden siguiente:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cl" data-lang="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;dired+</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Para correr el modo basta hacer <strong>M-x dired</strong> (yo creo que con esto se
carga ya con los agregados de dired+, que por ejemplo enriquece los
menúes de dired, así que viendo estos menúes uno puede darse cuenta si
está cargada la extensión o no). El buffer de dired que se abre muestra
los nombres de los archivos del directorio elegido (ver en la figura
siguiente), pero parece que por defecto se activa el ocultamiento de
toda otra información. Hay que ejecutar dired-hide-details-mode para que
se vea toda la info del archivo, incluyendo fecha, permisos, etc.</p>
<figure><img src="https://farm8.staticflickr.com/7580/16290334112_66dd0af6b1_o.png"/><figcaption>
            <h4>Buffer con dired&#43; suprimiendo detalles de los archivos</h4>
        </figcaption>
</figure>

<p>Por ahora no encuentro el modo de colorear distinto a las directorios y
a los archivos con distinta extensión (observación al 11/2020: en Doom
Emacs aparecen cosas con diversos colores, por ejemplo los permisos, las
fechas, los tamaños de los archivos). Intenté con el paquete
dired-rainbow y pude colorear distinto los archivos con diferentes
extensiones, pero no se cómo hacer con los directorios (porque no tienen
extensión), así que lo desinstalé. Pero copio debajo el código de prueba
que funcionó, para no perderlo:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cl" data-lang="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;dired-rainbow</span><span class="p">)</span>

<span class="p">(</span><span class="nv">defconst</span> <span class="nv">my-dired-media-files-extensions</span>
  <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;mp3&#34;</span> <span class="s">&#34;mp4&#34;</span> <span class="s">&#34;MP3&#34;</span> <span class="s">&#34;MP4&#34;</span> <span class="s">&#34;avi&#34;</span> <span class="s">&#34;mpg&#34;</span> <span class="s">&#34;flv&#34;</span> <span class="s">&#34;ogg&#34;</span><span class="p">)</span>
  <span class="s">&#34;Media files.&#34;</span><span class="p">)</span>

<span class="p">(</span><span class="nv">dired-rainbow-define</span> <span class="nv">html</span> <span class="s">&#34;#4e9a06&#34;</span> <span class="p">(</span><span class="s">&#34;htm&#34;</span> <span class="s">&#34;html&#34;</span> <span class="s">&#34;xhtml&#34;</span><span class="p">))</span>
<span class="p">(</span><span class="nv">dired-rainbow-define</span> <span class="nv">media</span> <span class="s">&#34;#ce5c00&#34;</span> <span class="nv">my-dired-media-files-extensions</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Puse <a href="http://emacs.stackexchange.com/questions/5765/how-to-view-files-ordered-by-extension-in-dired" target="_blank" rel="noopener noreffer">una pregunta en Emacs
Exchange</a>
para ver el modo de ordenar los archivos por extensión (y poniendo
primero los directorios). Me respondieron al toque, y la solución estaba
en instalar un paquete llamado dired-sort-menu.el (o
dired-sort-menu+.el). Luego hay que agregar también en la configuración
el &quot;require&quot; correspondiente:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cl" data-lang="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;dired-sort-menu+</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Al manipular archivos es muy práctico tener dos buffers abiertos como en
la figura siguiente, de modo que al copiar o mover se usan ambos
directorios como origen y destino, sin que haga falta teclear nada. En
este caso el ordenamiento es por nombre, así que se ven mezclados los
archivos (visibles y ocultos) con los directorios.</p>
<figure><img src="https://farm8.staticflickr.com/7527/16105034929_742a1aeac2_b.jpg"/><figcaption>
            <h4>Dos buffers coloridos con dired&#43;.</h4>
        </figcaption>
</figure>

<p>Edición del nombre de archivos y directorios</p>
<p>El buffer se puede volver editable para habilitar el cambio de nombre de
archivos y directorios, del mismo modo en que se edita un buffer normal
de texto. La función que vuelve editable el buffer es
dired-toggle-read-only que por defecto se ejecuta con C-x C-q y en Doom
Emacs directamente con &quot;i&quot; (insert mode). Al correr la función prestar
atención al minibuffer porque indica la manera de salir de este modo de
edición, confirmando los cambios (vanilla: C-c C-c; Doom: Z Z) o
cancelándolos (vanilla: C-c C-k; Doom: Z Q).</p>
<p>Las funciones más comunes y sus atajos de teclado (son case-sensitive)
están en la tabla siguiente, a modo de ejemplo, pero hay muchas más
opciones en los menúes de dired+, que son varios: Dir, Mark, Regexp,
Multiple, Single. En los menúes figuran los atajos, así que mirándolos
es una buena forma de aprender.</p>
<hr>
<p><strong>Función</strong>            <strong>Atajo</strong></p>
<p>Marcar archivo         m</p>
<p>Desmarcar archivo      u</p>
<p>Marcar por extensión   *.</p>
<p>Marcar directorios     */</p>
<p>Desmarcar todos        U</p>
<p>Invertir selección     t</p>
<p>Dividir en 2 paneles   C-w v</p>
<p>Ir al otro panel       C-w w</p>
<p>Copiar                 C</p>
<p>Mover/renombrar        R</p>
<p>Full/simple view       ( ó S-8</p>
<p>Entrar directorio      ENTER</p>
<p>Directorio anterior    -</p>
<p>Crear directorio       +</p>
<p>Marcar para borrar     d</p>
<p>Run acciones marcadas  x</p>
<p>Buffer editable        C-x C-q</p>
<p>Idem con Doom          i</p>
<hr>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/emacs/">emacs</a>
                </span><span><a href="/tags/dired/">dired</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>Actualizado el 2014-12-26</span>
            </div><div class="post-info-mod"><span>
                            <a class="link-to-markdown" href="/comandante-emacs-dired-mode/index.md" target="_blank">Leer Markdown</a>
                        </span></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="Compartir en Twitter" data-sharer="twitter" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)" data-via="eldiegoefe" data-hashtags="emacs,dired"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Facebook" data-sharer="facebook" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-hashtag="emacs"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en WhatsApp" data-sharer="whatsapp" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Line" data-sharer="line" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en 微博" data-sharer="weibo" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Myspace" data-sharer="myspace" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="Compartir en Blogger" data-sharer="blogger" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="Compartir en Evernote" data-sharer="evernote" data-url="http://www.certezasdudosas.com/comandante-emacs-dired-mode/" data-title="Comandante Emacs (dired-mode)"><i class="fab fa-evernote fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/corpore-sano/" class="prev" rel="prev" title="Corpore sano"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/agenda-en-emacs-y-orgmode/" class="next" rel="next" title="Agenda en Emacs y OrgMode">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="disqus_thread"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">Provisto por <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.87.0">Hugo</a> | Tema - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.1"><i class="fas fa-hand-holding-heart fa-fw"></i> FeelIt</a>
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/">Diego Efe</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('/sw.min.js?version=1.0.1', { scope: '/' })
        .then(() => {
            console.info('Certezas Dudosas\u00A0Service Worker Registered');
        }, err => console.error('Certezas Dudosas\u00A0Service Worker registration failed: ', err));

    navigator.serviceWorker
        .ready
        .then(() => {
            console.info('Certezas Dudosas\u00A0Service Worker Ready');
        });
}
</script>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Volver arriba">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="Ver comentarios">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="https://certezasdudosas.disqus.com/embed.js" defer></script><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/lunr/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.es.min.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script src="/lib/katex/katex.min.js"></script><script src="/lib/katex/auto-render.min.js"></script><script src="/lib/katex/copy-tex.min.js"></script><script src="/lib/katex/mhchem.min.js"></script><script src="/lib/cookieconsent/cookieconsent.min.js"></script><script>window.config={"code":{"copyTitle":"Copiar al portapapeles","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"De acuerdo","link":"Aprende más","message":"Este sitio web utiliza Cookies para mejorar su experiencia."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"es","maxResultLength":10,"noResultsFound":"No se encontraron resultados","snippetLength":30,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
